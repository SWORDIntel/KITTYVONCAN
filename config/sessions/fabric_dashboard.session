# KITTYVONCAN Fabric Dashboard Session
# Default layout for accelerator/NPU/GPU control workflows.
# Edit commands to match your stack or override with environment variables in the launcher.

new_tab Fabric Control
cd ~
launch --type=window bash -lc 'fabricctl status --watch || { echo "fabricctl missing; set FABRICCTL_CMD or edit this session."; exec bash; }'
launch --type=window bash -lc 'intel_gpu_top || { echo "intel_gpu_top missing (install intel-gpu-tools)"; exec bash; }'
launch --type=window bash -lc 'watch -n 2 npu-status || { echo "npu-status missing; set NPU_STATUS_CMD"; exec bash; }'
launch --type=window bash -lc 'htop || { echo "htop missing; install htop"; exec bash; }'

new_tab AI Ops
cd ~
launch --type=window bash -lc 'ov-bench --live || { echo "ov-bench missing; set OPENVINO_BENCH_CMD"; exec bash; }'
launch --type=window bash -lc 'python ./local_llm_gateway.py || { echo "Update GATEWAY_CMD to your gateway entrypoint"; exec bash; }'
launch --type=window bash -lc 'journalctl -fu openvino-npu.service || { echo "Adjust NPU_LOG_CMD for your service name"; exec bash; }'
launch --type=window bash -lc 'curl -N http://localhost:9100/metrics | grep -E "npu|gpu|llm" || { echo "Metrics endpoint missing; set METRICS_CMD"; exec bash; }'

new_tab MILSPEC
cd ~
launch --type=window bash -lc 'dmesg -w | egrep "intel_vpu|GNA|thunderbolt|Arc" || { echo "No dmesg stream; set DMESG_CMD"; exec bash; }'
launch --type=window bash -lc 'ls /dev/accel* /dev/dri/* || { echo "Adjust DEVICE_LS_CMD for your device nodes"; exec bash; }'
launch --type=window bash -lc 'milspec-guardian --tui || { echo "milspec-guardian missing; set GUARDIAN_CMD"; exec bash; }'
launch --type=window bash -lc 'tb monitor || { echo "Thermal/board monitor missing; set THERMAL_CMD"; exec bash; }'

new_tab Dev
cd ~
launch --type=window bash -lc 'ipython || { echo "ipython missing; set IPYTHON_CMD"; exec bash; }'
launch --type=window bash -lc 'python ./fabric_cli.py || { echo "Adjust FABRIC_CLI_CMD to your CLI"; exec bash; }'
launch --type=window bash -lc 'bash'
